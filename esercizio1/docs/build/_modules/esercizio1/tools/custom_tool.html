

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>esercizio1.tools.custom_tool &mdash; CrewAI Multi-Process Router System 1.0.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=cbb40358" />
      <link rel="stylesheet" type="text/css" href="../../../_static/custom.css?v=cbb40358" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=8d563738"></script>
      <script src="../../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #2980B9" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            CrewAI Multi-Process Router System
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html#prerequisites">📋 <strong>Prerequisites</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html#installation">🛠️ <strong>Installation</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html#running-the-system">🚀 <strong>Running the System</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html#first-steps">📝 <strong>First Steps</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html#configuration">🔧 <strong>Configuration</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html#example-workflows">🎯 <strong>Example Workflows</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html#troubleshooting">🐛 <strong>Troubleshooting</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html#next-steps">📚 <strong>Next Steps</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html#tips">💡 <strong>Tips</strong></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture.html">System Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture.html#high-level-architecture">🏗️ <strong>High-Level Architecture</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture.html#core-components">🧩 <strong>Core Components</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture.html#data-flow">🔄 <strong>Data Flow</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture.html#design-patterns">🏛️ <strong>Design Patterns</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture.html#configuration-architecture">🔧 <strong>Configuration Architecture</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture.html#state-management">📊 <strong>State Management</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture.html#security-architecture">🛡️ <strong>Security Architecture</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture.html#performance-considerations">⚡ <strong>Performance Considerations</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../architecture.html#monitoring-observability">🔍 <strong>Monitoring &amp; Observability</strong></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../api_reference.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference.html#modules-overview">📚 <strong>Modules Overview</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference.html#module-esercizio1.main">🎯 <strong>Main Module</strong></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.main.MultiProcessState"><code class="docutils literal notranslate"><span class="pre">MultiProcessState</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.main.MultiProcessState.user_input"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.user_input</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.main.MultiProcessState.routing_info"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.routing_info</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.main.MultiProcessState.result"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.result</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.main.MultiProcessState.sentence_count"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.sentence_count</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id0"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.user_input</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id1"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.routing_info</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id2"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.result</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id3"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.sentence_count</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.main.MultiProcessState.model_config"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.main.MultiProcessFlow"><code class="docutils literal notranslate"><span class="pre">MultiProcessFlow</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.main.MultiProcessFlow.get_user_input"><code class="docutils literal notranslate"><span class="pre">MultiProcessFlow.get_user_input()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.main.MultiProcessFlow.route_input"><code class="docutils literal notranslate"><span class="pre">MultiProcessFlow.route_input()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.main.MultiProcessFlow.process_request"><code class="docutils literal notranslate"><span class="pre">MultiProcessFlow.process_request()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.main.MultiProcessFlow.save_result"><code class="docutils literal notranslate"><span class="pre">MultiProcessFlow.save_result()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.main.kickoff"><code class="docutils literal notranslate"><span class="pre">kickoff()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.main.plot"><code class="docutils literal notranslate"><span class="pre">plot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.main.demo_routing"><code class="docutils literal notranslate"><span class="pre">demo_routing()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#id4"><code class="docutils literal notranslate"><span class="pre">MultiProcessState</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id5"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.user_input</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id6"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.routing_info</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id7"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.result</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id8"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.sentence_count</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id9"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.user_input</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id10"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.routing_info</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id11"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.result</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id12"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.sentence_count</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id13"><code class="docutils literal notranslate"><span class="pre">MultiProcessState.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#id14"><code class="docutils literal notranslate"><span class="pre">MultiProcessFlow</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id15"><code class="docutils literal notranslate"><span class="pre">MultiProcessFlow.get_user_input()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id16"><code class="docutils literal notranslate"><span class="pre">MultiProcessFlow.route_input()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id17"><code class="docutils literal notranslate"><span class="pre">MultiProcessFlow.process_request()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id18"><code class="docutils literal notranslate"><span class="pre">MultiProcessFlow.save_result()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#id19"><code class="docutils literal notranslate"><span class="pre">kickoff()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#id20"><code class="docutils literal notranslate"><span class="pre">plot()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#id21"><code class="docutils literal notranslate"><span class="pre">demo_routing()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference.html#module-esercizio1.routers.main_router">🧭 <strong>Router Module</strong></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.routers.main_router.MainRouter"><code class="docutils literal notranslate"><span class="pre">MainRouter</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.routers.main_router.MainRouter.input_classifier_agent"><code class="docutils literal notranslate"><span class="pre">MainRouter.input_classifier_agent</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.routers.main_router.MainRouter.__init__"><code class="docutils literal notranslate"><span class="pre">MainRouter.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.routers.main_router.MainRouter.classify_input_task"><code class="docutils literal notranslate"><span class="pre">MainRouter.classify_input_task()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.routers.main_router.MainRouter.crew"><code class="docutils literal notranslate"><span class="pre">MainRouter.crew()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.routers.main_router.MathRouter"><code class="docutils literal notranslate"><span class="pre">MathRouter</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.routers.main_router.MathRouter.number_patterns"><code class="docutils literal notranslate"><span class="pre">MathRouter.number_patterns</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.routers.main_router.MathRouter.text_number_patterns"><code class="docutils literal notranslate"><span class="pre">MathRouter.text_number_patterns</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.routers.main_router.MathRouter.__init__"><code class="docutils literal notranslate"><span class="pre">MathRouter.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.routers.main_router.MathRouter.classify_math_input"><code class="docutils literal notranslate"><span class="pre">MathRouter.classify_math_input()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.routers.main_router.route_user_input"><code class="docutils literal notranslate"><span class="pre">route_user_input()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#id22"><code class="docutils literal notranslate"><span class="pre">MainRouter</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id23"><code class="docutils literal notranslate"><span class="pre">MainRouter.input_classifier_agent</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id24"><code class="docutils literal notranslate"><span class="pre">MainRouter.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id25"><code class="docutils literal notranslate"><span class="pre">MainRouter.classify_input_task()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id26"><code class="docutils literal notranslate"><span class="pre">MainRouter.crew()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#id27"><code class="docutils literal notranslate"><span class="pre">MathRouter</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id28"><code class="docutils literal notranslate"><span class="pre">MathRouter.number_patterns</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id29"><code class="docutils literal notranslate"><span class="pre">MathRouter.text_number_patterns</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id30"><code class="docutils literal notranslate"><span class="pre">MathRouter.__init__()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id31"><code class="docutils literal notranslate"><span class="pre">MathRouter.classify_math_input()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#id32"><code class="docutils literal notranslate"><span class="pre">route_user_input()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference.html#module-esercizio1.crews.rag_crew.rag_crew">🔍 <strong>RAG Crew Module</strong></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.crews.rag_crew.rag_crew.RagCrew"><code class="docutils literal notranslate"><span class="pre">RagCrew</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference.html#module-esercizio1.crews.math_crew.math_crew">🧮 <strong>Math Crew Module</strong></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.crews.math_crew.math_crew.MathCrew"><code class="docutils literal notranslate"><span class="pre">MathCrew</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference.html#module-esercizio1.crews.math_text_crew.math_text_crew">📝 <strong>Math Text Crew Module</strong></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.crews.math_text_crew.math_text_crew.MathTextCrew"><code class="docutils literal notranslate"><span class="pre">MathTextCrew</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference.html#module-esercizio1.crews.poem_crew.poem_crew">🎨 <strong>Poem Crew Module</strong></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.crews.poem_crew.poem_crew.PoemCrew"><code class="docutils literal notranslate"><span class="pre">PoemCrew</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference.html#module-esercizio1.tools.custom_tool">🛠️ <strong>Tools Module</strong></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorToolInput"><code class="docutils literal notranslate"><span class="pre">MathCalculatorToolInput</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorToolInput.expression"><code class="docutils literal notranslate"><span class="pre">MathCalculatorToolInput.expression</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id33"><code class="docutils literal notranslate"><span class="pre">MathCalculatorToolInput.expression</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorToolInput.model_config"><code class="docutils literal notranslate"><span class="pre">MathCalculatorToolInput.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorTool"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorTool.name"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool.name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorTool.description"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool.description</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorTool.args_schema"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool.args_schema</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorTool.model_config"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberToolInput"><code class="docutils literal notranslate"><span class="pre">TextToNumberToolInput</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberToolInput.text"><code class="docutils literal notranslate"><span class="pre">TextToNumberToolInput.text</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id36"><code class="docutils literal notranslate"><span class="pre">TextToNumberToolInput.text</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberToolInput.model_config"><code class="docutils literal notranslate"><span class="pre">TextToNumberToolInput.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberTool"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberTool.name"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool.name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberTool.description"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool.description</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberTool.args_schema"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool.args_schema</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberTool.model_config"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomToolInput"><code class="docutils literal notranslate"><span class="pre">MyCustomToolInput</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomToolInput.argument"><code class="docutils literal notranslate"><span class="pre">MyCustomToolInput.argument</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id37"><code class="docutils literal notranslate"><span class="pre">MyCustomToolInput.argument</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomToolInput.model_config"><code class="docutils literal notranslate"><span class="pre">MyCustomToolInput.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomTool"><code class="docutils literal notranslate"><span class="pre">MyCustomTool</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomTool.name"><code class="docutils literal notranslate"><span class="pre">MyCustomTool.name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomTool.description"><code class="docutils literal notranslate"><span class="pre">MyCustomTool.description</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomTool.args_schema"><code class="docutils literal notranslate"><span class="pre">MyCustomTool.args_schema</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomTool.model_config"><code class="docutils literal notranslate"><span class="pre">MyCustomTool.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#id38"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id41"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool.name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id42"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool.description</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id43"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool.args_schema</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id44"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool.model_config</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorTool.env_vars"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool.env_vars</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorTool.description_updated"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool.description_updated</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorTool.cache_function"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool.cache_function</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorTool.result_as_answer"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool.result_as_answer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorTool.max_usage_count"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool.max_usage_count</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorTool.current_usage_count"><code class="docutils literal notranslate"><span class="pre">MathCalculatorTool.current_usage_count</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#id45"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id46"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool.name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id47"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool.description</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id48"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool.args_schema</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id49"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool.model_config</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberTool.env_vars"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool.env_vars</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberTool.description_updated"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool.description_updated</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberTool.cache_function"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool.cache_function</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberTool.result_as_answer"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool.result_as_answer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberTool.max_usage_count"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool.max_usage_count</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberTool.current_usage_count"><code class="docutils literal notranslate"><span class="pre">TextToNumberTool.current_usage_count</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#id50"><code class="docutils literal notranslate"><span class="pre">MyCustomTool</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id51"><code class="docutils literal notranslate"><span class="pre">MyCustomTool.name</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id52"><code class="docutils literal notranslate"><span class="pre">MyCustomTool.description</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id53"><code class="docutils literal notranslate"><span class="pre">MyCustomTool.args_schema</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id54"><code class="docutils literal notranslate"><span class="pre">MyCustomTool.model_config</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomTool.env_vars"><code class="docutils literal notranslate"><span class="pre">MyCustomTool.env_vars</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomTool.description_updated"><code class="docutils literal notranslate"><span class="pre">MyCustomTool.description_updated</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomTool.cache_function"><code class="docutils literal notranslate"><span class="pre">MyCustomTool.cache_function</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomTool.result_as_answer"><code class="docutils literal notranslate"><span class="pre">MyCustomTool.result_as_answer</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomTool.max_usage_count"><code class="docutils literal notranslate"><span class="pre">MyCustomTool.max_usage_count</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomTool.current_usage_count"><code class="docutils literal notranslate"><span class="pre">MyCustomTool.current_usage_count</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#id55"><code class="docutils literal notranslate"><span class="pre">MathCalculatorToolInput</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id56"><code class="docutils literal notranslate"><span class="pre">MathCalculatorToolInput.expression</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id57"><code class="docutils literal notranslate"><span class="pre">MathCalculatorToolInput.expression</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id58"><code class="docutils literal notranslate"><span class="pre">MathCalculatorToolInput.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#id59"><code class="docutils literal notranslate"><span class="pre">TextToNumberToolInput</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id60"><code class="docutils literal notranslate"><span class="pre">TextToNumberToolInput.text</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id61"><code class="docutils literal notranslate"><span class="pre">TextToNumberToolInput.text</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id62"><code class="docutils literal notranslate"><span class="pre">TextToNumberToolInput.model_config</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../api_reference.html#id63"><code class="docutils literal notranslate"><span class="pre">MyCustomToolInput</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id64"><code class="docutils literal notranslate"><span class="pre">MyCustomToolInput.argument</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id65"><code class="docutils literal notranslate"><span class="pre">MyCustomToolInput.argument</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../api_reference.html#id66"><code class="docutils literal notranslate"><span class="pre">MyCustomToolInput.model_config</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference.html#type-definitions">📋 <strong>Type Definitions</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference.html#configuration-schemas">🔧 <strong>Configuration Schemas</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference.html#usage-examples">🚀 <strong>Usage Examples</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference.html#error-handling">⚠️ <strong>Error Handling</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference.html#security-considerations">🔒 <strong>Security Considerations</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../api_reference.html#performance-notes">📈 <strong>Performance Notes</strong></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../examples.html#basic-usage-examples">🎯 <strong>Basic Usage Examples</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples.html#tool-usage-examples">🛠️ <strong>Tool Usage Examples</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples.html#advanced-usage-examples">🎭 <strong>Advanced Usage Examples</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples.html#integration-examples">🔧 <strong>Integration Examples</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples.html#performance-examples">📊 <strong>Performance Examples</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../examples.html#creative-examples">🎨 <strong>Creative Examples</strong></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials.html">Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials.html#tutorial-1-creating-a-custom-crew">🎯 <strong>Tutorial 1: Creating a Custom Crew</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials.html#tutorial-2-building-custom-tools">🛠️ <strong>Tutorial 2: Building Custom Tools</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials.html#tutorial-3-advanced-flow-customization">🔧 <strong>Tutorial 3: Advanced Flow Customization</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../tutorials.html#tutorial-4-creating-interactive-applications">🎨 <strong>Tutorial 4: Creating Interactive Applications</strong></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../development.html">Development Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../development.html#development-setup">🛠️ <strong>Development Setup</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development.html#project-structure">📁 <strong>Project Structure</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development.html#testing">🧪 <strong>Testing</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development.html#documentation">📚 <strong>Documentation</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development.html#extending-the-system">🔧 <strong>Extending the System</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development.html#code-style-guidelines">🎨 <strong>Code Style Guidelines</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development.html#performance-guidelines">🚀 <strong>Performance Guidelines</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development.html#security-best-practices">🔒 <strong>Security Best Practices</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development.html#release-process">📋 <strong>Release Process</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development.html#contributing">🤝 <strong>Contributing</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../development.html#support-and-community">📞 <strong>Support and Community</strong></a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #2980B9" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">CrewAI Multi-Process Router System</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">esercizio1.tools.custom_tool</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for esercizio1.tools.custom_tool</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Custom tools module for the CrewAI Multi-Process Router System.</span>

<span class="sd">This module provides specialized tools for mathematical calculations and text processing.</span>
<span class="sd">It includes safe mathematical evaluation, text-to-number conversion, and supports</span>
<span class="sd">multiple languages for textual number representations.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Type</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Union</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">operator</span>

<span class="kn">from</span><span class="w"> </span><span class="nn">crewai.tools</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseTool</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydantic</span><span class="w"> </span><span class="kn">import</span> <span class="n">BaseModel</span><span class="p">,</span> <span class="n">Field</span>


<div class="viewcode-block" id="MathCalculatorToolInput">
<a class="viewcode-back" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorToolInput">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">MathCalculatorToolInput</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Input schema for MathCalculatorTool.</span>
<span class="sd">    </span>
<span class="sd">    Attributes:</span>
<span class="sd">        expression (str): Mathematical expression to calculate (e.g., &#39;2 + 3 * 4&#39;).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">expression</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Mathematical expression to calculate (e.g., &#39;2 + 3 * 4&#39;)&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="MathCalculatorTool">
<a class="viewcode-back" href="../../../api_reference.html#esercizio1.tools.custom_tool.MathCalculatorTool">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">MathCalculatorTool</span><span class="p">(</span><span class="n">BaseTool</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Safe mathematical expression calculator tool.</span>
<span class="sd">    </span>
<span class="sd">    This tool provides secure evaluation of mathematical expressions without the</span>
<span class="sd">    risks of code injection. It supports basic arithmetic operations, parentheses,</span>
<span class="sd">    and power operations while ensuring input validation and safe execution.</span>
<span class="sd">    </span>
<span class="sd">    Supported Operations:</span>
<span class="sd">        - Addition (+)</span>
<span class="sd">        - Subtraction (-)</span>
<span class="sd">        - Multiplication (*)</span>
<span class="sd">        - Division (/)</span>
<span class="sd">        - Power (^ or **)</span>
<span class="sd">        - Parentheses for grouping</span>
<span class="sd">    </span>
<span class="sd">    Safety Features:</span>
<span class="sd">        - Input validation using regex patterns</span>
<span class="sd">        - Prevention of code injection attacks</span>
<span class="sd">        - Error handling for invalid expressions</span>
<span class="sd">        - Division by zero protection</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Math Calculator&quot;</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;Safely evaluates mathematical expressions with basic arithmetic operations. &quot;</span>
        <span class="s2">&quot;Supports +, -, *, /, ^, and parentheses. Ensures safe calculation without code execution.&quot;</span>
    <span class="p">)</span>
    <span class="n">args_schema</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">=</span> <span class="n">MathCalculatorToolInput</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expression</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Execute the mathematical calculation.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            expression (str): Mathematical expression to evaluate.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">            str: Result of the calculation or error message.</span>
<span class="sd">            </span>
<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; tool = MathCalculatorTool()</span>
<span class="sd">            &gt;&gt;&gt; tool._run(&quot;2 + 3 * 4&quot;)</span>
<span class="sd">            &quot;Result: 14&quot;</span>
<span class="sd">            &gt;&gt;&gt; tool._run(&quot;10 / 0&quot;)</span>
<span class="sd">            &quot;Error: Division by zero&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="c1"># Clean and validate the expression</span>
            <span class="n">cleaned_expr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clean_expression</span><span class="p">(</span><span class="n">expression</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">_is_safe_expression</span><span class="p">(</span><span class="n">cleaned_expr</span><span class="p">):</span>
                <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Error: Invalid or unsafe mathematical expression: </span><span class="si">{</span><span class="n">expression</span><span class="si">}</span><span class="s2">&quot;</span>
            
            <span class="c1"># Replace ^ with ** for Python power operator</span>
            <span class="n">cleaned_expr</span> <span class="o">=</span> <span class="n">cleaned_expr</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;^&#39;</span><span class="p">,</span> <span class="s1">&#39;**&#39;</span><span class="p">)</span>
            
            <span class="c1"># Safe evaluation</span>
            <span class="n">result</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">cleaned_expr</span><span class="p">)</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Result: </span><span class="si">{</span><span class="n">result</span><span class="si">}</span><span class="s2">&quot;</span>
            
        <span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;Error: Division by zero&quot;</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Error calculating expression &#39;</span><span class="si">{</span><span class="n">expression</span><span class="si">}</span><span class="s2">&#39;: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_clean_expression</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expression</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Clean the mathematical expression by removing whitespace.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            expression (str): Raw mathematical expression.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">            str: Cleaned expression without whitespace.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Remove whitespace and convert to lowercase</span>
        <span class="n">cleaned</span> <span class="o">=</span> <span class="n">expression</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">cleaned</span>
    
    <span class="k">def</span><span class="w"> </span><span class="nf">_is_safe_expression</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expression</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Check if the expression contains only safe mathematical operations.</span>
<span class="sd">        </span>
<span class="sd">        Uses regex pattern matching to ensure the expression only contains</span>
<span class="sd">        allowed mathematical symbols and prevents code injection.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            expression (str): Expression to validate.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">            bool: True if expression is safe, False otherwise.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Only allow numbers, operators, parentheses, and decimal points</span>
        <span class="n">safe_pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="s1">&#39;^[0-9+\-*/^().]+$&#39;</span>
        <span class="k">return</span> <span class="nb">bool</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">safe_pattern</span><span class="p">,</span> <span class="n">expression</span><span class="p">))</span></div>



<div class="viewcode-block" id="TextToNumberToolInput">
<a class="viewcode-back" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberToolInput">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">TextToNumberToolInput</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Input schema for TextToNumberTool.</span>
<span class="sd">    </span>
<span class="sd">    Attributes:</span>
<span class="sd">        text (str): Text containing numbers written as words to be converted.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">text</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Text containing numbers written as words&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="TextToNumberTool">
<a class="viewcode-back" href="../../../api_reference.html#esercizio1.tools.custom_tool.TextToNumberTool">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">TextToNumberTool</span><span class="p">(</span><span class="n">BaseTool</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Text-to-number conversion tool for multilingual support.</span>
<span class="sd">    </span>
<span class="sd">    This tool converts textual number representations (written as words) to</span>
<span class="sd">    numerical digits. It supports both English and Italian number words and</span>
<span class="sd">    can handle complex expressions containing mixed text and mathematical operators.</span>
<span class="sd">    </span>
<span class="sd">    Supported Languages:</span>
<span class="sd">        - English: &quot;one&quot;, &quot;two&quot;, &quot;three&quot;, &quot;twenty&quot;, &quot;hundred&quot;, etc.</span>
<span class="sd">        - Italian: &quot;uno&quot;, &quot;due&quot;, &quot;tre&quot;, &quot;venti&quot;, &quot;cento&quot;, etc.</span>
<span class="sd">    </span>
<span class="sd">    Features:</span>
<span class="sd">        - Comprehensive number word dictionary</span>
<span class="sd">        - Multi-language support</span>
<span class="sd">        - Preserves non-number words in text</span>
<span class="sd">        - Error handling for conversion failures</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Text to Number Converter&quot;</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;Converts textual numbers (written as words) to numerical digits. &quot;</span>
        <span class="s2">&quot;Supports English and Italian number words.&quot;</span>
    <span class="p">)</span>
    <span class="n">args_schema</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">=</span> <span class="n">TextToNumberToolInput</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Execute the text-to-number conversion.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            text (str): Input text containing textual numbers.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">            str: Text with number words converted to digits.</span>
<span class="sd">            </span>
<span class="sd">        Examples:</span>
<span class="sd">            &gt;&gt;&gt; tool = TextToNumberTool()</span>
<span class="sd">            &gt;&gt;&gt; tool._run(&quot;two plus three&quot;)</span>
<span class="sd">            &quot;Converted text: 2 plus 3&quot;</span>
<span class="sd">            &gt;&gt;&gt; tool._run(&quot;due più tre&quot;)</span>
<span class="sd">            &quot;Converted text: 2 più 3&quot;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">converted_text</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_convert_text_numbers</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Converted text: </span><span class="si">{</span><span class="n">converted_text</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;Error converting text numbers: </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_get_word_to_num_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Get the comprehensive word-to-number mapping dictionary.</span>
<span class="sd">        </span>
<span class="sd">        Returns:</span>
<span class="sd">            Dict[str, int]: Dictionary mapping number words to their numerical values</span>
<span class="sd">                           for both English and Italian languages.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="c1"># English numbers</span>
            <span class="s1">&#39;zero&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;one&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;three&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;four&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;five&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
            <span class="s1">&#39;six&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;seven&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;eight&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;nine&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;ten&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="s1">&#39;eleven&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;twelve&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;thirteen&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;fourteen&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;fifteen&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
            <span class="s1">&#39;sixteen&#39;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;seventeen&#39;</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span> <span class="s1">&#39;eighteen&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span> <span class="s1">&#39;nineteen&#39;</span><span class="p">:</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;twenty&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
            <span class="s1">&#39;thirty&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;forty&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="s1">&#39;fifty&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="s1">&#39;sixty&#39;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span> <span class="s1">&#39;seventy&#39;</span><span class="p">:</span> <span class="mi">70</span><span class="p">,</span>
            <span class="s1">&#39;eighty&#39;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s1">&#39;ninety&#39;</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span> <span class="s1">&#39;hundred&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;thousand&#39;</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
            
            <span class="c1"># Italian numbers</span>
            <span class="s1">&#39;uno&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;due&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;tre&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;quattro&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span> <span class="s1">&#39;cinque&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
            <span class="s1">&#39;sei&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;sette&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;otto&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;nove&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span> <span class="s1">&#39;dieci&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="s1">&#39;undici&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;dodici&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;tredici&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;quattordici&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;quindici&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
            <span class="s1">&#39;sedici&#39;</span><span class="p">:</span> <span class="mi">16</span><span class="p">,</span> <span class="s1">&#39;diciassette&#39;</span><span class="p">:</span> <span class="mi">17</span><span class="p">,</span> <span class="s1">&#39;diciotto&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span> <span class="s1">&#39;diciannove&#39;</span><span class="p">:</span> <span class="mi">19</span><span class="p">,</span> <span class="s1">&#39;venti&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
            <span class="s1">&#39;trenta&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;quaranta&#39;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span> <span class="s1">&#39;cinquanta&#39;</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="s1">&#39;sessanta&#39;</span><span class="p">:</span> <span class="mi">60</span><span class="p">,</span> <span class="s1">&#39;settanta&#39;</span><span class="p">:</span> <span class="mi">70</span><span class="p">,</span>
            <span class="s1">&#39;ottanta&#39;</span><span class="p">:</span> <span class="mi">80</span><span class="p">,</span> <span class="s1">&#39;novanta&#39;</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span> <span class="s1">&#39;cento&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;mille&#39;</span><span class="p">:</span> <span class="mi">1000</span>
        <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_convert_text_numbers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Convert textual numbers to digits in the given text.</span>
<span class="sd">        </span>
<span class="sd">        Processes the input text word by word, identifying number words using</span>
<span class="sd">        the multilingual dictionary and converting them to their numerical</span>
<span class="sd">        equivalents while preserving other words unchanged.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            text (str): Input text containing textual numbers.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">            str: Text with number words converted to digits.</span>
<span class="sd">            </span>
<span class="sd">        Note:</span>
<span class="sd">            Punctuation is removed from words before lookup to improve</span>
<span class="sd">            matching accuracy.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">word_to_num</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_word_to_num_dict</span><span class="p">()</span>
        <span class="n">words</span> <span class="o">=</span> <span class="n">text</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
        <span class="n">converted_words</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
            <span class="c1"># Remove punctuation</span>
            <span class="n">clean_word</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;[^\w]&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">word</span><span class="p">)</span>
            
            <span class="k">if</span> <span class="n">clean_word</span> <span class="ow">in</span> <span class="n">word_to_num</span><span class="p">:</span>
                <span class="n">converted_words</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">word_to_num</span><span class="p">[</span><span class="n">clean_word</span><span class="p">]))</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">converted_words</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">word</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">converted_words</span><span class="p">)</span></div>



<div class="viewcode-block" id="MyCustomToolInput">
<a class="viewcode-back" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomToolInput">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">MyCustomToolInput</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Input schema for MyCustomTool (template/example tool).</span>
<span class="sd">    </span>
<span class="sd">    Attributes:</span>
<span class="sd">        argument (str): Generic argument for demonstration purposes.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">argument</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Field</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Description of the argument.&quot;</span><span class="p">)</span></div>



<div class="viewcode-block" id="MyCustomTool">
<a class="viewcode-back" href="../../../api_reference.html#esercizio1.tools.custom_tool.MyCustomTool">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">MyCustomTool</span><span class="p">(</span><span class="n">BaseTool</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Template/example custom tool for demonstration purposes.</span>
<span class="sd">    </span>
<span class="sd">    This is a placeholder tool that serves as a template for creating</span>
<span class="sd">    new custom tools. It demonstrates the basic structure and interface</span>
<span class="sd">    required for CrewAI tools.</span>
<span class="sd">    </span>
<span class="sd">    Note:</span>
<span class="sd">        This tool is included for reference and should be replaced or</span>
<span class="sd">        extended with actual functionality as needed.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;Name of my tool&quot;</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s2">&quot;Clear description for what this tool is useful for, your agent will need this information to use it.&quot;</span>
    <span class="p">)</span>
    <span class="n">args_schema</span><span class="p">:</span> <span class="n">Type</span><span class="p">[</span><span class="n">BaseModel</span><span class="p">]</span> <span class="o">=</span> <span class="n">MyCustomToolInput</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">_run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">argument</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Execute the tool with the given argument.</span>
<span class="sd">        </span>
<span class="sd">        Args:</span>
<span class="sd">            argument (str): Input argument for the tool.</span>
<span class="sd">            </span>
<span class="sd">        Returns:</span>
<span class="sd">            str: Example output for demonstration purposes.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Implementation goes here</span>
        <span class="k">return</span> <span class="s2">&quot;this is an example of a tool output, ignore it and move along.&quot;</span></div>

</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Bardini-Rremilli Team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>